"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{32423:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},61594:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},14807:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},14505:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},65236:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},66462:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},99271:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},86878:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},23950:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},35620:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},40767:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(63394).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},64277:(e,a,t)=>{t.d(a,{t:()=>o});var r=t(95155),s=t(12115),l=t(23950),i=t(6816);class o extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,a){console.error("ErrorBoundary caught error:",e,a)}render(){if(this.state.hasError){var e;return this.props.fallback?this.props.fallback:(0,r.jsx)("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center max-w-md",children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)("div",{className:"p-4 bg-red-500/10 rounded-full",children:(0,r.jsx)(l.A,{className:"h-12 w-12 text-red-400"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:(null===(e=this.state.error)||void 0===e?void 0:e.message)||"An unexpected error occurred"}),(0,r.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,r.jsx)(i.$,{onClick:this.handleReset,variant:"default",children:"Try Again"}),(0,r.jsx)(i.$,{onClick:()=>window.location.reload(),variant:"outline",children:"Reload Page"})]})]})})}return this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}}},6816:(e,a,t)=>{t.d(a,{$:()=>o});var r=t(95155),s=t(12115),l=t(21567),i=t(14505);let o=s.forwardRef((e,a)=>{let{className:t,variant:s="default",size:o="default",isLoading:n,children:d,...c}=e;return(0,r.jsxs)("button",{ref:a,disabled:n||c.disabled,className:(0,l.cn)("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 active:scale-95","default"===s&&"bg-primary text-primary-foreground shadow hover:bg-primary/90 hover:shadow-[0_0_20px_rgba(124,58,237,0.4)]","destructive"===s&&"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90","outline"===s&&"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground","secondary"===s&&"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80","ghost"===s&&"hover:bg-accent hover:text-accent-foreground","link"===s&&"text-primary underline-offset-4 hover:underline","glow"===s&&"bg-gradient-to-r from-primary to-violet-600 text-white shadow-[0_0_20px_rgba(124,58,237,0.5)] hover:shadow-[0_0_30px_rgba(124,58,237,0.8)] hover:scale-105 border border-white/10","default"===o&&"h-10 px-6 py-2","sm"===o&&"h-8 rounded-md px-3 text-xs","lg"===o&&"h-12 rounded-lg px-8 text-base","icon"===o&&"h-9 w-9",t),...c,children:[n&&(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4 animate-spin"}),d]})});o.displayName="Button"},4617:(e,a,t)=>{t.d(a,{E:()=>s});var r=t(95155);function s(e){let{className:a="",width:t="100%",height:s="20px",variant:l="rectangular"}=e;return(0,r.jsx)("div",{className:"bg-white/5 animate-shimmer ".concat({text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"}[l]," ").concat(a),style:{width:t,height:s}})}},58360:(e,a,t)=>{t.d(a,{A:()=>M});var r=t(95155),s=t(12115),l=t(18415),i=t(37688),o=t(92791),n=t(64277),d=t(4617),c=t(61594),m=t(66462),h=t(63394);let u=(0,h.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),x=(0,h.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var p=t(65236),g=t(32423);let b=(0,h.A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var y=t(99271),v=t(35620),f=t(14807),j=t(86878);let w=(0,h.A)("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),N=(0,h.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var k=t(40767);let A=(0,h.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var _=t(64144),P=t(1410),C=t(6816),S=t(11414);function E(){return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,r.jsx)("div",{className:"bg-card border border-border rounded-2xl p-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[(0,r.jsx)(d.E,{variant:"circular",width:"128px",height:"128px"}),(0,r.jsxs)("div",{className:"space-y-3 flex-1",children:[(0,r.jsx)(d.E,{width:"200px",height:"32px"}),(0,r.jsx)(d.E,{width:"150px",height:"20px"}),(0,r.jsx)(d.E,{width:"300px",height:"16px"})]})]})}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,r.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4",children:[(0,r.jsx)(d.E,{width:"80px",height:"14px",className:"mb-2"}),(0,r.jsx)(d.E,{width:"120px",height:"24px"})]},a))}),(0,r.jsx)("div",{className:"bg-card border border-border rounded-2xl p-8",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d.E,{width:"150px",height:"24px"}),Array.from({length:4}).map((e,a)=>(0,r.jsxs)("div",{children:[(0,r.jsx)(d.E,{width:"100px",height:"14px",className:"mb-2"}),(0,r.jsx)(d.E,{width:"100%",height:"40px"})]},a))]})})]})}function F(e){let{onRetry:a}=e;return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)(l.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md text-center",children:[(0,r.jsx)("div",{className:"mb-6 flex justify-center",children:(0,r.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-full",children:(0,r.jsx)(c.A,{className:"h-12 w-12 text-red-400"})})}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Failed to Load Profile"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"We couldn't load your profile data. Please try again."}),(0,r.jsx)("button",{onClick:a,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:opacity-90 transition-opacity",children:"Try Again"})]})})}function M(){var e,a;let{data:t,isLoading:c,error:h,refetch:M}=(0,i.xc)(),{data:L,isLoading:R}=(0,o.v)(),D=(0,i.Sn)(),[I,z]=(0,s.useState)(!1),[Q,U]=(0,s.useState)(!1),[V,W]=(0,s.useState)(""),[$,B]=(0,s.useState)(""),[K,G]=(0,s.useState)(""),[J,O]=(0,s.useState)(""),[X,Y]=(0,s.useState)(""),[Z,ee]=(0,s.useState)(""),[ea,et]=(0,s.useState)(""),[er,es]=(0,s.useState)(!1);(0,s.useState)(()=>{t&&(W(t.first_name||""),B(t.last_name||""),G(t.telegram_id||""),O(t.phone_number||""))});let el=async e=>{if(e.preventDefault(),Z!==ea){S.Ay.error("New passwords do not match");return}if(Z.length<8){S.Ay.error("Password must be at least 8 characters");return}es(!0);try{await P.F.post("/v1/auth/change-password",{current_password:X,new_password:Z}),S.Ay.success("Password updated successfully"),Y(""),ee(""),et("")}catch(e){var a,t;S.Ay.error((null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to update password")}finally{es(!1)}};return c?(0,r.jsx)(n.t,{children:(0,r.jsx)(E,{})}):h||!t?(0,r.jsx)(n.t,{children:(0,r.jsx)(F,{onRetry:()=>M()})}):(0,r.jsx)(n.t,{children:(0,r.jsxs)("div",{className:"min-h-screen bg-background relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-primary/5 via-transparent to-transparent pointer-events-none"}),(0,r.jsxs)("div",{className:"relative max-w-6xl mx-auto p-4 md:p-6 lg:p-8",children:[(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-foreground to-foreground/70",children:"Profile & Settings"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your account information"})]}),(0,r.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-card to-card/50 border border-border/50 backdrop-blur-sm rounded-2xl p-6 md:p-8 mb-6 shadow-xl",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[(0,r.jsxs)(l.P.div,{whileHover:{scale:1.05},className:"relative",children:[(0,r.jsxs)("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-5xl font-bold text-primary-foreground shadow-2xl ring-4 ring-primary/20",children:[null===(e=t.first_name)||void 0===e?void 0:e[0],null===(a=t.last_name)||void 0===a?void 0:a[0]]}),(0,r.jsx)("div",{className:"absolute -bottom-2 -right-2 bg-green-500 w-8 h-8 rounded-full border-4 border-background"})]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-1",children:t.full_name||"".concat(t.first_name," ").concat(t.last_name)}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground mb-3",children:[(0,r.jsx)(m.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-sm md:text-base",children:t.email})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5\n                                        ".concat("AGENT"===t.role?"bg-primary/20 text-primary border border-primary/30":"AFFILIATE"===t.role?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-blue-500/20 text-blue-400 border border-blue-500/30"),children:[(0,r.jsx)(u,{className:"h-3 w-3"}),t.role]}),(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(t.is_active?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:t.is_active?"Active":"Inactive"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 md:flex-col md:items-end",children:[I?null:(0,r.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t&&(W(t.first_name||""),B(t.last_name||""),G(t.telegram_id||""),O(t.phone_number||"")),z(!0)},className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2 text-sm font-medium",children:[(0,r.jsx)(x,{className:"h-4 w-4"}),"Edit Profile"]}),(0,r.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>U(!0),className:"px-4 py-2 bg-red-500/10 text-red-400 border border-red-500/30 rounded-lg hover:bg-red-500/20 transition-colors flex items-center gap-2 text-sm font-medium",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),"Logout"]})]})]})}),(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)(T,{icon:(0,r.jsx)(g.A,{className:"h-5 w-5 text-blue-400"}),label:"Member Since",value:new Date(t.created_at).toLocaleDateString()}),(0,r.jsx)(T,{icon:(0,r.jsx)(m.A,{className:"h-5 w-5 text-violet-400"}),label:"Email",value:t.email}),(0,r.jsx)(T,{icon:(0,r.jsx)(b,{className:"h-5 w-5 text-green-400"}),label:"Phone",value:t.phone_number||"Not set"}),(0,r.jsx)(T,{icon:(0,r.jsx)(y.A,{className:"h-5 w-5 text-cyan-400"}),label:"Telegram",value:t.telegram_id||"Not set"})]}),"AGENT"===t.role&&(0,r.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-6",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-card to-card/50 border border-border/50 backdrop-blur-sm rounded-2xl p-6 md:p-8 shadow-xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,r.jsx)(v.A,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)("h3",{className:"text-xl font-bold",children:"Wallet Balance"})]}),R?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,r.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[(0,r.jsx)(d.E,{width:"120px",height:"14px",className:"mb-3"}),(0,r.jsx)(d.E,{width:"100px",height:"28px",className:"mb-2"}),(0,r.jsx)(d.E,{width:"60px",height:"12px"})]},a))}):L?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsx)(q,{title:"Commission Balance",amount:L.commission_balance,subtitle:"Available",icon:(0,r.jsx)(f.A,{className:"h-5 w-5"}),gradient:"from-green-500/10 to-transparent",borderColor:"border-green-500/20 hover:border-green-500/40",iconColor:"text-green-400"}),(0,r.jsx)(q,{title:"Pending",amount:L.pending_commission,subtitle:"Processing",icon:(0,r.jsx)(j.A,{className:"h-5 w-5"}),gradient:"from-amber-500/10 to-transparent",borderColor:"border-amber-500/20 hover:border-amber-500/40",iconColor:"text-amber-400"}),(0,r.jsx)(q,{title:"Total Withdrawn",amount:L.total_withdrawn,subtitle:"Lifetime",icon:(0,r.jsx)(w,{className:"h-5 w-5"}),gradient:"from-blue-500/10 to-transparent",borderColor:"border-blue-500/20 hover:border-blue-500/40",iconColor:"text-blue-400"}),(0,r.jsx)(q,{title:"Total Earned",amount:L.total_earned,subtitle:"All time",icon:(0,r.jsx)(N,{className:"h-5 w-5"}),gradient:"from-purple-500/10 to-transparent",borderColor:"border-purple-500/20 hover:border-purple-500/40",iconColor:"text-purple-400"})]}):(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,r.jsx)(v.A,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),(0,r.jsx)("p",{children:"Wallet data unavailable"})]})]})}),(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-card to-card/50 border border-border/50 backdrop-blur-sm rounded-2xl p-6 md:p-8 shadow-xl",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-6",children:"Personal Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(H,{label:"First Name",value:V,onChange:W,disabled:!I,icon:(0,r.jsx)(x,{className:"h-4 w-4"})}),(0,r.jsx)(H,{label:"Last Name",value:$,onChange:B,disabled:!I,icon:(0,r.jsx)(x,{className:"h-4 w-4"})}),(0,r.jsx)(H,{label:"Telegram ID",value:K,onChange:G,disabled:!I,icon:(0,r.jsx)(y.A,{className:"h-4 w-4"}),placeholder:"@username"}),(0,r.jsx)(H,{label:"Phone Number",value:J,onChange:O,disabled:!I,icon:(0,r.jsx)(b,{className:"h-4 w-4"}),placeholder:"+1234567890"})]}),I&&(0,r.jsxs)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex gap-3 justify-end mt-6 pt-6 border-t border-border",children:[(0,r.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{t&&(W(t.first_name||""),B(t.last_name||""),G(t.telegram_id||""),O(t.phone_number||"")),z(!1)},disabled:D.isPending,className:"px-6 py-2.5 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors flex items-center gap-2 font-medium disabled:opacity-50",children:[(0,r.jsx)(k.A,{className:"h-4 w-4"}),"Cancel"]}),(0,r.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{D.mutate({first_name:V,last_name:$,telegram_id:K,phone_number:J},{onSuccess:()=>{z(!1)}})},disabled:D.isPending,className:"px-6 py-2.5 bg-primary text-primary-foreground rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:D.isPending?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A,{className:"h-4 w-4"}),"Save Changes"]})})]})]}),(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-card to-card/50 border border-border/50 backdrop-blur-sm rounded-2xl p-6 md:p-8 shadow-xl mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,r.jsx)(u,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)("h3",{className:"text-xl font-bold",children:"Security Settings"})]}),(0,r.jsxs)("form",{onSubmit:el,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsx)(H,{label:"Current Password",type:"password",value:X,onChange:Y,disabled:er,icon:(0,r.jsx)(u,{className:"h-4 w-4"}),placeholder:"••••••••"}),(0,r.jsx)(H,{label:"New Password",type:"password",value:Z,onChange:ee,disabled:er,icon:(0,r.jsx)(u,{className:"h-4 w-4"}),placeholder:"••••••••"}),(0,r.jsx)(H,{label:"Confirm New Password",type:"password",value:ea,onChange:et,disabled:er,icon:(0,r.jsx)(u,{className:"h-4 w-4"}),placeholder:"••••••••"})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(C.$,{type:"submit",disabled:er||!Z,isLoading:er,className:"px-8 py-2.5 bg-primary text-primary-foreground rounded-lg font-medium",children:"Update Password"})})]})]})]}),Q&&(0,r.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>U(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,r.jsxs)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:e=>e.stopPropagation(),className:"bg-card border border-border rounded-2xl p-8 max-w-md w-full shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)("div",{className:"p-3 bg-red-500/10 rounded-full",children:(0,r.jsx)(p.A,{className:"h-6 w-6 text-red-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold",children:"Confirm Logout"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Are you sure you want to log out?"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>U(!1),className:"flex-1 px-4 py-2.5 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors font-medium",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{S.Ay.success("Logging out..."),setTimeout(()=>{_.u.logout()},500)},className:"flex-1 px-4 py-2.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium",children:"Logout"})]})]})})]})})}function T(e){let{icon:a,label:t,value:s}=e;return(0,r.jsxs)(l.P.div,{whileHover:{scale:1.02,y:-2},className:"bg-gradient-to-br from-card to-card/50 border border-border/50 backdrop-blur-sm rounded-xl p-4 shadow-lg hover:shadow-xl transition-all",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[a,(0,r.jsx)("span",{className:"text-xs text-muted-foreground font-medium uppercase tracking-wide",children:t})]}),(0,r.jsx)("p",{className:"text-base font-semibold truncate",children:s})]})}function q(e){let{title:a,amount:t,subtitle:s,icon:i,gradient:o,borderColor:n,iconColor:d}=e;return(0,r.jsxs)(l.P.div,{whileHover:{scale:1.03,y:-4},className:"bg-gradient-to-br ".concat(o," border ").concat(n," rounded-xl p-5 transition-all group shadow-lg hover:shadow-xl"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground font-medium",children:a}),(0,r.jsx)("div",{className:"".concat(d," group-hover:scale-110 transition-transform"),children:i})]}),(0,r.jsxs)("p",{className:"text-2xl font-bold mb-1",children:["$",Number(t||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,r.jsx)("span",{className:"text-xs ".concat(d," font-medium"),children:s})]})}function H(e){let{label:a,value:t,onChange:s,disabled:l,icon:i,placeholder:o,type:n="text"}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2 text-muted-foreground",children:a}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:i}),(0,r.jsx)("input",{type:n,value:t,onChange:e=>s(e.target.value),disabled:l,placeholder:o,className:"w-full pl-10 pr-4 py-3 bg-background/50 border border-border rounded-lg text-foreground placeholder:text-muted-foreground/50\n                        ".concat(l?"cursor-not-allowed opacity-60":"focus:border-primary focus:ring-2 focus:ring-primary/20","\n                        transition-all outline-none")})]})]})}},37688:(e,a,t)=>{t.d(a,{eJ:()=>d,xc:()=>c,Sn:()=>m});var r=t(39556),s=t(35906),l=t(25848),i=t(1410);let o={getProfile:async()=>(await i.F.get("/v1/auth/profile")).data,updateProfile:async e=>(await i.F.put("/v1/auth/profile",e)).data};var n=t(11414);let d={all:["profile"],detail:()=>[...d.all,"detail"]};function c(){return(0,r.I)({queryKey:d.detail(),queryFn:o.getProfile,staleTime:3e5})}function m(){let e=(0,s.jE)();return(0,l.n)({mutationFn:e=>o.updateProfile(e),onMutate:async a=>{await e.cancelQueries({queryKey:d.detail()});let t=e.getQueryData(d.detail());return t&&e.setQueryData(d.detail(),{...t,...a,full_name:"".concat(a.first_name||t.first_name," ").concat(a.last_name||t.last_name)}),{previousProfile:t}},onError:(a,t,r)=>{(null==r?void 0:r.previousProfile)&&e.setQueryData(d.detail(),r.previousProfile),n.Ay.error(a instanceof Error?a.message:"Failed to update profile")},onSuccess:()=>{n.Ay.success("Profile updated successfully!")},onSettled:()=>{e.invalidateQueries({queryKey:d.detail()})}})}},92791:(e,a,t)=>{t.d(a,{v:()=>n});var r=t(35906),s=t(39556),l=t(1817),i=t(37688);let o={all:["wallet"],balance:()=>[...o.all,"balance"]};function n(){let e=(0,r.jE)().getQueryData(i.eJ.detail()),a=(null==e?void 0:e.role)==="AGENT";return(0,s.I)({queryKey:o.balance(),queryFn:l.N.getWallet,enabled:a,staleTime:12e4,retry:2})}},1410:(e,a,t)=>{t.d(a,{F:()=>i});var r=t(82651),s=t(30814);let l=r.A.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:15e3});l.interceptors.request.use(e=>{let a=localStorage.getItem("access_token");return a&&e.headers&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{let{response:a}=e;if(!a)return s.oR.error("Network Error",{description:"Unable to connect to the server. Please check your internet connection."}),Promise.reject(e);let t=a.status,r=a.data;if(401===t)s.oR.error("Session Expired",{description:"Please login again."});else if(422===t&&Array.isArray(r.detail)){let e=r.detail.map(e=>"".concat(e.loc.join("."),": ").concat(e.msg)).join("\n");s.oR.error("Validation Error",{description:e})}else if(t>=400&&t<500){let e="string"==typeof r.detail?r.detail:r.message||"Something went wrong";s.oR.error("Request Failed",{description:e})}else t>=500&&s.oR.error("Server Error",{description:"Our servers are experiencing issues. Please try again later."});return Promise.reject(e)});let i={get:(e,a)=>l.get(e,{params:a}),post:(e,a)=>l.post(e,a),put:(e,a)=>l.put(e,a),delete:e=>l.delete(e),patch:(e,a)=>l.patch(e,a)}},21567:(e,a,t)=>{t.d(a,{cn:()=>l});var r=t(43463),s=t(69795);function l(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},1817:(e,a,t)=>{t.d(a,{N:()=>s});var r=t(1410);let s={getStats:async()=>(await r.F.get("/v1/agent/stats")).data,getRevenueAnalytics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"7d";return(await r.F.get("/v1/agent/analytics/revenue",{params:{range:e}})).data},getWallet:async()=>(await r.F.get("/v1/agent/wallet")).data,getUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(await r.F.get("/v1/agent/users",{params:{page:e,page_size:a,search:t}})).data},addUser:async e=>(await r.F.post("/v1/agent/users",e)).data,toggleUserStatus:async e=>(await r.F.patch("/v1/agent/users/".concat(e,"/status"))).data,getCommissions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await r.F.get("/v1/agent/commissions",{params:{page:e,page_size:a}})).data},requestPayout:async e=>(await r.F.post("/v1/agent/payouts/request",e)).data,getTransactions:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2?arguments[2]:void 0;return(await r.F.get("/v1/agent/transactions",{params:{page:e,page_size:a,type:t}})).data},getPayoutHistory:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,t=arguments.length>2?arguments[2]:void 0;return(await r.F.get("/v1/agent/payouts",{params:{page:e,page_size:a,status:t}})).data}}},64144:(e,a,t)=>{t.d(a,{u:()=>s});var r=t(1410);let s={login:async e=>(await r.F.post("/v1/auth/login",e)).data,register:async e=>(await r.F.post("/v1/auth/register",e)).data,logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_role"),window.location.href="/auth/login"}}}}]);